# VB BG Converter

Nintendo Virtual Boy 向け背景画像変換ツール

## 概要

任意の画像を Virtual Boy の 4階調×4パレットに合わせて変換する。実機相当の赤単色に加え、単色プリセットやカスタム RGB、グラデーションなどの拡張カラーモードにも対応している。

## 対応仕様

### VB 標準相当

- 解像度: 384 x 224
- タイル: 8 x 8 ピクセル
- 階調: 4段階
- パレット: 4本 (主役 / UI / 近景 / 遠景)

### 拡張出力

- QVGA (320 x 240)
- QVGA 2倍 (640 x 480)
- オート (アスペクト比維持)

## 機能

### 出力設定

| 項目 | 選択肢 |
|---|---|
| 出力サイズモード | VB標準 (384x224), QVGA, QVGA 2倍, オート |
| トリミング位置 | 25% - 75% (上下または左右) |
| ディザリング | なし, 市松模様, Bayer 2x2, Bayer 4x4 |

### カラーモード (拡張)

| モード | 内容 |
|---|---|
| VB実機 | 赤単色 |
| 単色プリセット | 赤/青/緑/黄/紫/水/白/橙 |
| カスタムRGB | RGB スライダーで任意色 |
| グラデーション | 2点/3点/5点 + プリセット (セピア/サイバー/オーシャン/サンセット/フォレスト/ゲーミング) |

### 色調整

| 項目 | 範囲 |
|---|---|
| 明度 | -100 - +100 |
| コントラスト | -100 - +100 |

### その他

- リアルタイムプレビュー
- 設定保存 / リセット

## 処理フロー

1. 画像読み込みとトリミング
2. 色調整 (明度, コントラスト)
3. カラーモードに応じた 4パレット生成
4. 輝度ベースで 4パレットへ自動分類
5. ディザリングと減色
6. 出力画像生成

## 出力形式

### 出力画像

変換後の画像。PNG 形式で保存またはクリップボードにコピーできる。

## 使い方

1. 画像をドラッグアンドドロップまたはファイル選択で読み込む
2. 出力モードとカラーモードを選択
3. 必要に応じてディザや色調整を適用
4. 「変換実行」ボタンをクリック
5. 出力画像を保存またはコピー

## 既知の問題

特になし。

## 技術詳細

- 輝度による自動分類: 明→主役, 中高→UI, 中低→近景, 暗→遠景
- VB 実機パレットは 4階調×4パレット (赤単色) を基準に生成
