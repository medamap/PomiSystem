# テキストグラフィックコンバーター

X1turbo / VGA 系テキスト画面向け画像変換ツール

## 概要

任意の画像をテキストキャラクタまたは PCG セミグラで表現する。ASCII 濃淡やブロック文字を使ったテキストアートと、2x2 ブロック構成のセミグラ表現の両方に対応する。

## 対応仕様

### 出力解像度

- X1turbo: 640 x 400 / 80 x 25
- X1turbo 2倍: 1280 x 800 / 80 x 25
- X1turbo 4倍: 2560 x 1600 / 80 x 25
- VGA: 640 x 480 / 80 x 30
- VGA 2倍: 1280 x 960 / 80 x 30
- VGA 4倍: 2560 x 1920 / 80 x 30
- オート (アスペクト比維持) + 2倍/4倍/8倍

### 表現モード

- テキストキャラ: ASCII 濃淡またはブロック文字で表現
- PCG セミグラ: 1キャラ = 2x2 ブロック (各 4x8 ピクセル)
  - 実効解像度: 160 x 50 ブロック

## 機能

### 出力設定

| 項目 | 選択肢 |
|---|---|
| 出力サイズモード | X1turbo, VGA, オート (倍率あり) |
| トリミング位置 | 25% - 75% (上下または左右) |

### モード設定

| 項目 | 選択肢 |
|---|---|
| 表現モード | テキストキャラ / PCG セミグラ |
| 文字セット (テキスト) | 標準 (ASCII濃淡), ブロック文字, 詳細 |
| ON/OFF 閾値 (PCG) | 10% - 90% |

### パレット設定

| 項目 | 選択肢 |
|---|---|
| パレット選択 | デジタルRGB 8色, MSX 15色, ファミコン 54色, モノクロ (単色) |
| 単色カラー (モノクロ) | MSX 16色から選択 |

### カラー判定設定

| 項目 | 選択肢 |
|---|---|
| 判定エリア | 1x1, 2x1, 2x2 |
| 2色配置パターン | 縦縞, 市松, 横縞 |

判定エリアを広くすると 2色の安定度が上がり、細部は簡略化される。

### 色調整

| 項目 | 範囲 |
|---|---|
| 明度 | -100 - +100 |
| コントラスト | -100 - +100 |
| 彩度 | -100 - +100 |

### その他

- フォント選択 (VT323 / Press Start 2P)
- 設定保存 / リセット

## 処理フロー

1. 画像読み込みとトリミング
2. 色調整 (明度, コントラスト, 彩度)
3. パレット選択に応じた減色
4. モード別変換
   - テキストキャラ: 輝度に応じて文字を選択し描画
   - PCG セミグラ: 2x2 ブロックの点灯パターンを生成
5. 出力画像とテキストデータ生成

## 出力形式

### 出力画像

変換後の画像。PNG 形式で保存またはクリップボードにコピーできる。

### テキストデータ

変換結果の文字列をテキストとして出力し、クリップボードにコピーできる。

## 使い方

1. 画像をドラッグアンドドロップまたはファイル選択で読み込む
2. 出力モードと表現モードを選択
3. パレットや判定エリア、必要なら PCG 閾値を調整
4. 「変換実行」ボタンをクリック
5. 出力画像とテキストデータを保存/コピー

## 既知の問題

特になし。

## 技術詳細

- テキストキャラは明度に応じて文字密度の高い文字へ割り当て
- PCG セミグラは 2x2 ブロックのビットパターンで近似
- 2色配置パターンは縦縞 / 市松 / 横縞を選択可能
